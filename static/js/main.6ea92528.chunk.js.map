{"version":3,"sources":["components/Searchbar/Serachbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","inputVal","handleInputChange","e","setState","currentTarget","value","reset","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","React","Component","ImageGalleryItem","onClick","img","src","webformatURL","alt","tags","id","Button","onBtnClick","ImageGallery","imagesArray","map","onImgClick","Loader","Modal","handleKeyDown","code","toggleModal","closeModal","target","window","removeEventListener","addEventListener","largeImageURL","App","images","pageNum","query","loading","showModal","modalContent","onLoadMoreBtnClick","fetchImgs","prevState","pageNumber","prevImg","fetch","then","r","json","imgs","hits","catch","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6ea92528.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class Searchbar extends React.Component {\n  state = {\n    inputVal: \"\",\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ inputVal: e.currentTarget.value });\n  };\n\n  reset = () => {\n    this.setState({\n      inputVal: \"\",\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputVal);\n    this.reset();\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={this.state.inputVal}\n            onChange={this.handleInputChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class ImageGalleryItem extends React.Component {\n  onClick = () => {\n    this.props.onClick(this.props.img);\n  };\n\n  render() {\n    return (\n      <li className=\"ImageGalleryItem\" key={this.props.img.id}>\n        <img\n          src={this.props.img.webformatURL}\n          alt={this.props.img.tags}\n          onClick={this.onClick}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class Button extends React.Component {\n  render() {\n    return (\n      <button className=\"Button\" type=\"button\" onClick={this.props.onBtnClick}>\n        Load More\n      </button>\n    );\n  }\n}\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\n\nexport default class ImageGallery extends React.Component {\n  render() {\n    return (\n      <div>\n        <ul className=\"ImageGallery\">\n          {this.props.imagesArray.map((img) => (\n            <ImageGalleryItem\n              img={img}\n              key={img.id}\n              onClick={this.props.onImgClick}\n            />\n          ))}\n        </ul>\n        <Button onBtnClick={this.props.onBtnClick} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class Loader extends React.Component {\n  render() {\n    return <p>Loading...</p>;\n  }\n}\n","import React from \"react\";\n\nexport default class Modal extends React.Component {\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.toggleModal();\n    }\n  };\n\n  closeModal = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.toggleModal();\n    }\n  };\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.closeModal}>\n        <div className=\"Modal\">\n          <img src={this.props.img.largeImageURL} alt={this.props.img.tags} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport Searchbar from \"./components/Searchbar/Serachbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Loader from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\n\nclass App extends React.Component {\n  state = {\n    images: null,\n    pageNum: 1,\n    query: \"\",\n    loading: false,\n    showModal: false,\n    modalContent: {},\n  };\n\n  //main function work with api, updates state's images depending on 3rd parametr\n  fetchImgs(query, pageNumber, prevImg = []) {\n    fetch(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}'&page=${pageNumber}&per_page=12&key=23034166-be8967e0ea66b0703121f1d79`\n    )\n      .then((r) => r.json())\n      .then((imgs) => {\n        this.setState({ images: [...prevImg, ...imgs.hits] });\n      })\n      .catch(console.log);\n  }\n\n  //load-more-button only shows with img-gallery-component - relies on app's state - query, page-number and merges old images into new response\n  onLoadMoreBtnClick = (e) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    this.fetchImgs(this.state.query, this.state.pageNum, this.state.images);\n    this.setState((prevState) => ({\n      loading: false,\n      pageNum: (prevState.pageNum += 1),\n    }));\n  };\n\n  //loads new query, always 1st page and updates app's state for pagination, but don't relies on that\n  onSubmit = (query) => {\n    this.setState({ query, loading: true, pageNum: 1 });\n    this.fetchImgs(query, 1);\n    this.setState((prevState) => ({\n      loading: false,\n      pageNum: (prevState.pageNum += 1),\n    }));\n  };\n\n  //==== modal window methods\n  // changes state so modal component can or can't be shown\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  // directly works on images, to open modal, because needs image's object to show(largeImageURL), it works from ImageGalleryItem\n  onImgClick = (img) => {\n    this.setState({ modalContent: img });\n    this.toggleModal();\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSubmit} />\n        {this.state.loading && <Loader />}\n        {this.state.images && (\n          <ImageGallery\n            imagesArray={this.state.images}\n            onImgClick={this.onImgClick}\n            onBtnClick={this.onLoadMoreBtnClick}\n          />\n        )}\n\n        {this.state.showModal && (\n          <Modal img={this.state.modalContent} toggleModal={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}