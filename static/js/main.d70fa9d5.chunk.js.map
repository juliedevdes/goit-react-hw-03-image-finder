{"version":3,"sources":["components/Searchbar/Serachbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Loader/Loader.module.css"],"names":["Searchbar","state","inputVal","handleInputChange","e","setState","currentTarget","value","reset","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","React","Component","ImageGalleryItem","onClick","img","src","webformatURL","alt","tags","id","Button","onBtnClick","ImageGallery","imagesArray","map","onImgClick","length","Loader","s","loader","width","height","viewBox","xmlns","stroke","fill","fillRule","strokeWidth","cx","cy","r","attributeName","begin","dur","values","calcMode","keyTimes","keySplines","repeatCount","Modal","handleKeyDown","code","toggleModal","closeModal","target","window","removeEventListener","addEventListener","largeImageURL","App","loading","images","pageNum","query","showModal","modalContent","onLoadMoreBtnClick","fetchImgs","scrollTo","top","behavior","prevState","pageNumber","prevImg","fetch","then","json","imgs","hits","catch","console","log","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d70fa9d5.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class Searchbar extends React.Component {\n  state = {\n    inputVal: \"\",\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ inputVal: e.currentTarget.value });\n  };\n\n  reset = () => {\n    this.setState({\n      inputVal: \"\",\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputVal);\n    this.reset();\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={this.state.inputVal}\n            onChange={this.handleInputChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class ImageGalleryItem extends React.Component {\n  onClick = () => {\n    this.props.onClick(this.props.img);\n  };\n\n  render() {\n    return (\n      <li className=\"ImageGalleryItem\" key={this.props.img.id}>\n        <img\n          src={this.props.img.webformatURL}\n          alt={this.props.img.tags}\n          onClick={this.onClick}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class Button extends React.Component {\n  render() {\n    return (\n      <button className=\"Button\" type=\"button\" onClick={this.props.onBtnClick}>\n        Load More\n      </button>\n    );\n  }\n}\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\n\nexport default class ImageGallery extends React.Component {\n  render() {\n    return (\n      <div>\n        <ul className=\"ImageGallery\">\n          {this.props.imagesArray.map((img) => (\n            <ImageGalleryItem\n              img={img}\n              key={img.id}\n              onClick={this.props.onImgClick}\n            />\n          ))}\n        </ul>\n        {this.props.imagesArray.length !== 0 && (\n          <Button onBtnClick={this.props.onBtnClick} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport s from \"./Loader.module.css\";\n\nexport default class Loader extends React.Component {\n  render() {\n    return (\n      <div className={s.loader}>\n        <svg\n          width=\"80\"\n          height=\"80\"\n          viewBox=\"0 0 44 44\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke=\"green\"\n          aria-label=\"audio-loading\"\n        >\n          <g fill=\"none\" fillRule=\"evenodd\" strokeWidth=\"2\">\n            <circle cx=\"22\" cy=\"22\" r=\"1\">\n              <animate\n                attributeName=\"r\"\n                begin=\"0s\"\n                dur=\"1.8s\"\n                values=\"1; 20\"\n                calcMode=\"spline\"\n                keyTimes=\"0; 1\"\n                keySplines=\"0.165, 0.84, 0.44, 1\"\n                repeatCount=\"indefinite\"\n              />\n              <animate\n                attributeName=\"strokeOpacity\"\n                begin=\"0s\"\n                dur=\"1.8s\"\n                values=\"1; 0\"\n                calcMode=\"spline\"\n                keyTimes=\"0; 1\"\n                keySplines=\"0.3, 0.61, 0.355, 1\"\n                repeatCount=\"indefinite\"\n              />\n            </circle>\n            <circle cx=\"22\" cy=\"22\" r=\"1\">\n              <animate\n                attributeName=\"r\"\n                begin=\"-0.9s\"\n                dur=\"1.8s\"\n                values=\"1; 20\"\n                calcMode=\"spline\"\n                keyTimes=\"0; 1\"\n                keySplines=\"0.165, 0.84, 0.44, 1\"\n                repeatCount=\"indefinite\"\n              />\n              <animate\n                attributeName=\"strokeOpacity\"\n                begin=\"-0.9s\"\n                dur=\"1.8s\"\n                values=\"1; 0\"\n                calcMode=\"spline\"\n                keyTimes=\"0; 1\"\n                keySplines=\"0.3, 0.61, 0.355, 1\"\n                repeatCount=\"indefinite\"\n              />\n            </circle>\n          </g>\n        </svg>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class Modal extends React.Component {\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.toggleModal();\n    }\n  };\n\n  closeModal = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.toggleModal();\n    }\n  };\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.closeModal}>\n        <div className=\"Modal\">\n          <img src={this.props.img.largeImageURL} alt={this.props.img.tags} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport Searchbar from \"./components/Searchbar/Serachbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Loader from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\n\nclass App extends React.Component {\n  state = {\n    loading: false,\n    images: null,\n    pageNum: 1,\n    query: \"\",\n    showModal: false,\n    modalContent: {},\n  };\n\n  // ðŸ¶ main function to work with API, updates state's images depending on 3rd parametr\n  fetchImgs(query, pageNumber, prevImg = []) {\n    this.setState({ loading: true });\n    fetch(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}'&page=${pageNumber}&per_page=12&key=23034166-be8967e0ea66b0703121f1d79`\n    )\n      .then((r) => r.json())\n      .then((imgs) => {\n        this.setState({ images: [...prevImg, ...imgs.hits], loading: false });\n      })\n      .catch(console.log);\n  }\n\n  //load-more-button only shows with img-gallery-component - relies on app's state - query, page-number and merges old images into new response\n  onLoadMoreBtnClick = (e) => {\n    e.preventDefault();\n\n    this.fetchImgs(this.state.query, this.state.pageNum, this.state.images);\n\n    window.scrollTo({\n      top: ImageGallery,\n      behavior: \"smooth\",\n    });\n\n    this.setState((prevState) => ({\n      pageNum: (prevState.pageNum += 1),\n    }));\n  };\n\n  //loads new query, always 1st page and updates app's state for pagination, but don't relies on that\n  onSubmit = (query) => {\n    this.setState({ query, pageNum: 1 });\n    this.fetchImgs(query, 1);\n    this.setState((prevState) => ({\n      pageNum: (prevState.pageNum += 1),\n    }));\n  };\n\n  //==== MODAL ==== methods\n  // changes state so modal component can or can't be shown\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  // directly works on images, to open modal, because needs image's object to show(largeImageURL), it works from ImageGalleryItem\n  onImgClick = (img) => {\n    this.setState({ modalContent: img });\n    this.toggleModal();\n  };\n\n  //=====\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSubmit} />\n        {this.state.loading && <Loader />}\n        {this.state.images && (\n          <ImageGallery\n            imagesArray={this.state.images}\n            onImgClick={this.onImgClick}\n            onBtnClick={this.onLoadMoreBtnClick}\n          />\n        )}\n        {this.state.showModal && (\n          <Modal img={this.state.modalContent} toggleModal={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1xdWL\"};"],"sourceRoot":""}